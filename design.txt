WE FIRST CREATE A VSAM KSDS FILE WHICH CONTAINS THE DATA ABOUT ALL THE PETS AVAILABLE INCLUDING PRICE , DOP AND QUANTITY. THIS IS OUR PET'S MASTER FILE.

THE STRUCTURE OF THE FILE -->

 01 INREC1.
    05 PET-ID       PIC 9(3).
    05 PET-TYPE     PIC 9(1).
       88 CAT  VALUE '1'.
       88 DOG  VALUE '2'.
       88 BIRD VALUE '3'.
       88 FISH VALUE '4'.
    05 BREED        PIC A(10).
    05 DOP          PIC 999999.
    05 COSTPRICE    PIC 9999V99.
    05 QUANT        PIC 99. --> QUANTITY AVAILABLE 

                                                         
*************************************************************************************

SALES TRANSACTION 

THIS WILL BE A PS FILE

01 INREC2. 
   05 PET-ID    PIC 9(3).
   05 MPR       PIC 9999V99.
   05 QAUNTBOU  PIC 99.      --> QUANTITY TO BE BOUGHT

*************************************************************************************

READ PS AND KSDS FILE ( PET-ID ) AND COMPARE THE QUANTITIES OF THE PET AVAILABLE WITH US AND THE QUANTITY NEEDED , IF QUANTITY NEEDED IS MORE THAN THE QAUNTITY 
AVAILABLE THEN THAT SALE IS UNPROCESSED. ELSE THE SALE IS WRITTEN IN PROCESSED SALE WHICH WILL BE A VSAM ESDS FILE. HERE WE SEE THE TWO CONDITIONS FOR PROCESSING
A SALE ONE IS THE PET-ID AND OTHER IS THE QUANTITY AVAIALABLE.

05 OUTREC.
   05 PET-ID    PIC 9(3).
   05 DOP       PIC 999999.        THIS WILL BE OUR SYSTEM DATE ( THE DATE WHEN THE SALE WAS PROCESSED)
   05 QUANTBOU  PIC 99.
   05 TO-PRICE  PIC 99999V99.
   05 PRO-LOSS  PIC S9999V99.

*************************************************************************************

UNPROCESSED SALE WILL BE IN PS FILE.
BASED ON OUR ESDS FILE WHICH CONTAINS THE DATA ABOUT PROCESSED SALE SHOULD BE WRITTEN IN A SALES REPORT FILE WHICH WILL BE A PS FILE.